"use strict";(()=>{var C=()=>{console.log("test11!!!!!");let c=document.querySelectorAll("[button-text-toggl]");c.length&&c.forEach(e=>{let n=e.querySelector("[button-text-toggl-values]");if(n){let i=n.getAttribute("button-text-toggl-values").split("/");i.length===2&&(n.textContent=i[0],e.addEventListener("click",r=>{r.preventDefault();let l=n.textContent;n.textContent=l===i[0]?i[1]:i[0]}))}})};var k=()=>{let c=document.querySelectorAll("[collapse-section]");c.length&&c.forEach(e=>{let n=e.querySelector("[collapse-button]"),i=e.querySelectorAll("[collapse-element-class]");n&&n.addEventListener("click",()=>{n.classList.toggle("is-active"),i.forEach(r=>{let l=r.getAttribute("collapse-element-class");l&&r.classList.toggle(l)})})})};var F=()=>{let c=["https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/6788356d2480c4c990e30d02_1.png","https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/678835807fc92b0b8ee0c0c0_2.png","https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/67883580c0e6b74286e48dce_3.png","https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/67883580605d94a89c8a421f_4.png","https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/67883580758eac19b94e925c_5.png","https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/678835805259a4d654fc3572_6.png","https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/67883580aede649838e66424_7.png"];function e(i){let r=document.querySelector("link[rel~='icon']");r||(r=document.createElement("link"),r.rel="icon",document.head.appendChild(r)),r.href=i}function n(){let i=window.scrollY,r=document.documentElement.scrollHeight-window.innerHeight,l=i/r*100,f=Math.min(Math.floor(l/100*c.length),c.length-1);e(c[f])}window.addEventListener("scroll",n),n()};var H=()=>{let c=document.querySelectorAll("[card-fly-parent]");c.length&&c.forEach(e=>{let n=e.querySelector("[card-fly-sea]"),i=e.querySelector("[card-fly-grid]"),r=e.querySelector("[card-fly-toggl]"),l=Array.from(e.querySelectorAll("[card-fly-child]")),f=!1,g=i.offsetHeight,d=parseFloat(getComputedStyle(document.documentElement).fontSize),h;function w(){h=l.map(a=>{let m=a.getBoundingClientRect(),o=e.getBoundingClientRect();return{card:a,left:(m.left-o.left)/d,top:(m.top-o.top)/d,width:m.width/d,height:m.height/d}})}w(),e.getAttribute("card-fly-parent")==="on"&&(f=!0);function A(){f=!f,f?S():$()}r.addEventListener("click",A),f&&S();function S(){i.style.transition="height 1s ease",i.style.height="0",e.style.position="relative",w();let a=e.getBoundingClientRect(),m=n.getBoundingClientRect(),o={left:(m.left-a.left)/d,top:(m.top-a.top)/d,width:m.width/d,height:m.height/d};l.forEach((t,s)=>{t.style.position="absolute",t.style.transition="none",t.style.width=`${h[s].width}rem`,t.style.height=`${h[s].height}rem`,t.dataset.id||(t.dataset.id=Math.random().toString(36).substr(2,9));let u=h[s].left,y=h[s].top;t.style.left=`${u}rem`,t.style.top=`${y}rem`}),e.offsetHeight,requestAnimationFrame(()=>{l.forEach(t=>{t.style.transition="left 1s ease, top 1s ease"}),l.forEach(t=>{let s=o.left+Math.random()*(o.width-parseFloat(t.style.width)),u=o.top+Math.random()*(o.height-parseFloat(t.style.height));t.style.left=`${s}rem`,t.style.top=`${u}rem`,t.dataset.seaLeft=s,t.dataset.seaTop=u}),n.addEventListener("mousemove",E)})}function $(){i.style.transition="height 1s ease",i.style.height=`${g/d}rem`,l.forEach(a=>{a.style.transition="left 1s ease, top 1s ease"}),e.offsetHeight,requestAnimationFrame(()=>{l.forEach((a,m)=>{let o=h[m].left,t=h[m].top;a.style.left=`${o}rem`,a.style.top=`${t}rem`;let s=function(u){(u.propertyName==="left"||u.propertyName==="top")&&(a.style.position="",a.style.left="",a.style.top="",a.style.width="",a.style.height="",a.style.transition="",a.removeEventListener("transitionend",s))};a.addEventListener("transitionend",s),delete a.dataset.seaLeft,delete a.dataset.seaTop})}),n.removeEventListener("mousemove",E)}function E(a){let m=a.clientX,o=a.clientY;l.forEach(t=>{let s=t.getBoundingClientRect(),u=s.left+s.width/2,y=s.top+s.height/2,v=u-m,b=y-o,x=Math.sqrt(v*v+b*b),q=100;if(x<q){let L=(q-x)/q,_=v*L*.2,V=b*L*.2,W=parseFloat(t.dataset.seaLeft),Y=parseFloat(t.dataset.seaTop),D=W+_/d,N=Y+V/d;t.style.transition="left 0.2s ease, top 0.2s ease",t.style.left=`${D}rem`,t.style.top=`${N}rem`}else{let L=parseFloat(t.dataset.seaLeft),_=parseFloat(t.dataset.seaTop);t.style.transition="left 0.5s ease, top 0.5s ease",t.style.left=`${L}rem`,t.style.top=`${_}rem`}})}})};var I=()=>{let c=document.querySelectorAll("[height-transition]");c.length&&c.forEach(e=>{let n=e.getAttribute("height-transition")||"0.5s";e.style.overflow="hidden",e.style.transitionProperty="max-height, opacity",e.style.transitionDuration=`${n}, ${n}`,e.style.transitionTimingFunction="ease, ease",e.classList.contains("collapsed")?(e.style.maxHeight="0",e.style.opacity="0"):(e.style.maxHeight=e.scrollHeight+"px",e.style.opacity="1"),new MutationObserver(()=>{e.classList.contains("collapsed")?(e.style.transitionProperty="max-height, opacity",e.style.transitionDuration=`${n}, ${n}`,e.style.maxHeight="0",e.style.opacity="0"):(e.style.transitionProperty="max-height",e.style.transitionDuration=`${n}`,e.style.maxHeight=e.scrollHeight+"px",setTimeout(()=>{e.style.transitionProperty="opacity",e.style.transitionDuration=`${n}`,e.style.opacity="1"},500))}).observe(e,{attributes:!0,attributeFilter:["class"]})})};var T=()=>{let c=document.getElementById("main-hero-form"),e=document.querySelectorAll("[form-step-input]"),n=document.querySelector('[form-step-input="1"]'),i=document.querySelector('[form-step-input="2"]'),r=document.querySelector('[form-step-input="3"]'),l=document.querySelector('[fs-mirrorclick-element="trigger"]'),f=new Set;e.forEach(o=>{o.addEventListener("input",d),o.addEventListener("focus",g)});function g(o){let t=o.target,s=parseInt(t.getAttribute("form-step-input"),10);$(s)}function d(o){let t=o.target,s=parseInt(t.getAttribute("form-step-input"),10),u=t.value.trim();t.errorTimeout&&(clearTimeout(t.errorTimeout),t.errorTimeout=null);let y=p(s,u);A(t,s,u),y?t.classList.remove("input-error"):s===1?t.classList.add("input-error"):t.errorTimeout=setTimeout(()=>{let v=t.value.trim();p(s,v)||t.classList.add("input-error"),t.errorTimeout=null},3e3)}function h(o){try{return new URL(o).hostname.toLowerCase().includes("figma.com")}catch{return!1}}function w(o){return/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(o)}function p(o,t){return o===1?t===""||h(t):o===2?w(t):o===3?t.length>=5:!1}function A(o,t,s){f.delete(t);let u=p(t,s);t===1?s!==""&&h(s)&&f.add(t):u&&f.add(t),u?(t===1&&(o.placeholder="link to figma project"),t===2&&(o.placeholder="email"),t===3&&(o.placeholder="detail about the project (scope, deadlines)")):(t===1&&(o.placeholder="Please enter a valid Figma link"),t===2&&(o.placeholder="Please enter a valid email address"),t===3&&(o.placeholder="Please enter at least 5 characters"),S(t)),E(),a()}function S(o){for(let t=o;t<=3;t++){let s=document.querySelector(`[form-step-ill="${t}"]`);s&&s.classList.remove("is-active");let u=document.querySelector(`[form-step-progress-item="${t}"]`);if(u){let v=u.querySelector(".steps-grid_item-line-filler"),b=u.querySelector(".rg-12.is-step-name");v&&v.classList.remove("is-active"),b&&b.classList.remove("is-active")}let y=document.querySelector(`.figma-zone-steps-icons_item[form-step-ill="${t}"]`);y&&y.classList.remove("is-active")}}function $(o){document.querySelectorAll("[form-step-ill-arrow]").forEach(s=>{parseInt(s.getAttribute("form-step-ill-arrow"),10)===o?s.classList.add("is-active"):s.classList.remove("is-active")})}function E(){for(let o=1;o<=3;o++){let t=document.querySelector(`[form-step-ill="${o}"]`);f.has(o)?t&&t.classList.add("is-active"):t&&t.classList.remove("is-active")}for(let o=1;o<=3;o++){let t=document.querySelector(`[form-step-progress-item="${o}"]`);if(t){let s=t.querySelector(".steps-grid_item-line-filler"),u=t.querySelector(".rg-12.is-step-name");f.has(o)?(s&&s.classList.add("is-active"),u&&u.classList.add("is-active")):(s&&s.classList.remove("is-active"),u&&u.classList.remove("is-active"))}}for(let o=1;o<=3;o++){let t=document.querySelector(`.figma-zone-steps-icons_item[form-step-ill="${o}"]`);f.has(o)?t&&t.classList.add("is-active"):t&&t.classList.remove("is-active")}}function a(){m()?l.disabled=!1:l.disabled=!0}function m(){return p(1,n.value.trim())&&p(2,i.value.trim())&&p(3,r.value.trim())}c.addEventListener("submit",function(o){if(!m())return o.preventDefault(),o.stopPropagation(),p(1,n.value.trim())||(n.classList.add("input-blink"),setTimeout(()=>{n.classList.remove("input-blink")},1500)),!1}),a()};T();var M=()=>{document.querySelectorAll(".card.is-hero-orange-section").length&&fetch("https://dev.kopytok.xyz/site-stats").then(e=>{if(!e.ok)throw new Error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0438 \u0434\u0430\u043D\u043D\u044B\u0445");return e.json()}).then(e=>{let n=e["total-stats"];for(let i in n)if(n.hasOwnProperty(i)){let r=document.getElementById(i);r&&(r.textContent=n[i])}}).catch(e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430:",e)})};var B=()=>{let c=document.querySelectorAll("[sync-click]"),e=new Map,n=new WeakSet;c.forEach(r=>{let l=r.getAttribute("sync-click");e.has(l)||e.set(l,[]),e.get(l).push(r)}),e.forEach((r,l)=>{r.length!==2&&e.delete(l)});let i=r=>{n.add(r),setTimeout(()=>{n.delete(r)},500)};e.forEach(r=>{let[l,f]=r;l.addEventListener("click",()=>{n.has(l)||(i(l),n.has(f)||f.click())}),f.addEventListener("click",()=>{n.has(f)||(i(f),n.has(l)||l.click())})})};var R=()=>{if(!document.querySelectorAll(".section_testimonials").length)return;let e=document.querySelectorAll("[client-slug]"),n={};e.forEach(g=>{let d=g.getAttribute("client-slug");n[d]||(n[d]=0),n[d]++}),document.querySelectorAll("[client-slug-counter]").forEach(g=>{let d=g.getAttribute("client-slug-counter");g.textContent=n[d]?n[d]:0});let r=document.querySelectorAll("[testimonial-to-append]"),l=document.querySelectorAll(".testimonial-cards-waiter");r.forEach((g,d)=>{l[d%l.length].appendChild(g)});let f=document.querySelector('[section-toggle="testimonials"]');f&&f.addEventListener("click",()=>{l.forEach(d=>{d.classList.toggle("is-active")});let g=document.querySelector(".testimonials-grid.is-main");g&&g.classList.toggle("is-active")})};var z=()=>{let c=document.querySelectorAll("[toggl-class-trigger]");c.length&&c.forEach(e=>{e.addEventListener("click",()=>{let n=e.getAttribute("toggl-class-trigger"),i=document.querySelector(`[toggl-class-target="${n}"]`);if(i){let r=i.getAttribute("toggl-class-name");r&&i.classList.toggle(r)}})})};var P=()=>{let c=document.querySelectorAll("[year-counter]");if(c.length){let n=new Date().getFullYear()-2016;c.forEach(i=>{i.textContent=n})}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{T(),k(),I(),B(),C(),M(),P(),z(),H(),R(),F()});})();
