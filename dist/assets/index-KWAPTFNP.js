"use strict";(()=>{var H=()=>{console.log("test11!!!!!");let u=document.querySelectorAll("[button-text-toggl]");u.length&&u.forEach(o=>{let s=o.querySelector("[button-text-toggl-values]");if(s){let c=s.getAttribute("button-text-toggl-values").split("/");c.length===2&&(s.textContent=c[0],o.addEventListener("click",r=>{r.preventDefault();let l=s.textContent;s.textContent=l===c[0]?c[1]:c[0]}))}})};var I=()=>{let u=document.querySelectorAll("[collapse-section]");u.length&&u.forEach(o=>{let s=o.querySelector("[collapse-button]"),c=o.querySelectorAll("[collapse-element-class]");s&&s.addEventListener("click",()=>{s.classList.toggle("is-active"),c.forEach(r=>{let l=r.getAttribute("collapse-element-class");l&&r.classList.toggle(l)})})})};var M=()=>{let u=["https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/6788356d2480c4c990e30d02_1.png","https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/678835807fc92b0b8ee0c0c0_2.png","https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/67883580c0e6b74286e48dce_3.png","https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/67883580605d94a89c8a421f_4.png","https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/67883580758eac19b94e925c_5.png","https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/678835805259a4d654fc3572_6.png","https://cdn.prod.website-files.com/66d705e00cbf9913ba1c539b/67883580aede649838e66424_7.png"];function o(c){let r=document.querySelector("link[rel~='icon']");r||(r=document.createElement("link"),r.rel="icon",document.head.appendChild(r)),r.href=c}function s(){let c=window.scrollY,r=document.documentElement.scrollHeight-window.innerHeight,l=c/r*100,f=Math.min(Math.floor(l/100*u.length),u.length-1);o(u[f])}window.addEventListener("scroll",s),s()};var B=()=>{let u=document.querySelectorAll("[card-fly-parent]");u.length&&u.forEach(o=>{let s=o.querySelector("[card-fly-sea]"),c=o.querySelector("[card-fly-grid]"),r=o.querySelector("[card-fly-toggl]"),l=Array.from(o.querySelectorAll("[card-fly-child]")),f=!1,p=c.offsetHeight,m=parseFloat(getComputedStyle(document.documentElement).fontSize),w;function q(){w=l.map(n=>{let d=n.getBoundingClientRect(),e=o.getBoundingClientRect();return{card:n,left:(d.left-e.left)/m,top:(d.top-e.top)/m,width:d.width/m,height:d.height/m}})}q(),o.getAttribute("card-fly-parent")==="on"&&(f=!0);function C(){f=!f,f?_():k()}r.addEventListener("click",C),f&&_();function _(){c.style.transition="height 1s ease",c.style.height="0",o.style.position="relative",q();let n=o.getBoundingClientRect(),d=s.getBoundingClientRect(),e={left:(d.left-n.left)/m,top:(d.top-n.top)/m,width:d.width/m,height:d.height/m};l.forEach((t,i)=>{t.style.position="absolute",t.style.transition="none",t.style.width=`${w[i].width}rem`,t.style.height=`${w[i].height}rem`,t.dataset.id||(t.dataset.id=Math.random().toString(36).substr(2,9));let a=w[i].left,y=w[i].top;t.style.left=`${a}rem`,t.style.top=`${y}rem`}),o.offsetHeight,requestAnimationFrame(()=>{l.forEach(t=>{t.style.transition="left 1s ease, top 1s ease"}),l.forEach(t=>{let i=e.left+Math.random()*(e.width-parseFloat(t.style.width)),a=e.top+Math.random()*(e.height-parseFloat(t.style.height));t.style.left=`${i}rem`,t.style.top=`${a}rem`,t.dataset.seaLeft=i,t.dataset.seaTop=a}),s.addEventListener("mousemove",T)})}function k(){c.style.transition="height 1s ease",c.style.height=`${p/m}rem`,l.forEach(n=>{n.style.transition="left 1s ease, top 1s ease"}),o.offsetHeight,requestAnimationFrame(()=>{l.forEach((n,d)=>{let e=w[d].left,t=w[d].top;n.style.left=`${e}rem`,n.style.top=`${t}rem`;let i=function(a){(a.propertyName==="left"||a.propertyName==="top")&&(n.style.position="",n.style.left="",n.style.top="",n.style.width="",n.style.height="",n.style.transition="",n.removeEventListener("transitionend",i))};n.addEventListener("transitionend",i),delete n.dataset.seaLeft,delete n.dataset.seaTop})}),s.removeEventListener("mousemove",T)}function T(n){let d=n.clientX,e=n.clientY;l.forEach(t=>{let i=t.getBoundingClientRect(),a=i.left+i.width/2,y=i.top+i.height/2,h=a-d,g=y-e,E=Math.sqrt(h*h+g*g),S=100;if(E<S){let v=(S-E)/S,A=h*v*.2,x=g*v*.2,$=parseFloat(t.dataset.seaLeft),b=parseFloat(t.dataset.seaTop),N=$+A/m,X=b+x/m;t.style.transition="left 0.2s ease, top 0.2s ease",t.style.left=`${N}rem`,t.style.top=`${X}rem`}else{let v=parseFloat(t.dataset.seaLeft),A=parseFloat(t.dataset.seaTop);t.style.transition="left 0.5s ease, top 0.5s ease",t.style.left=`${v}rem`,t.style.top=`${A}rem`}})}})};var R=()=>{let u=document.querySelectorAll("[height-transition]");u.length&&u.forEach(o=>{let s=o.getAttribute("height-transition")||"0.5s";o.style.overflow="hidden",o.style.transitionProperty="max-height, opacity",o.style.transitionDuration=`${s}, ${s}`,o.style.transitionTimingFunction="ease, ease",o.classList.contains("collapsed")?(o.style.maxHeight="0",o.style.opacity="0"):(o.style.maxHeight=o.scrollHeight+"px",o.style.opacity="1"),new MutationObserver(()=>{o.classList.contains("collapsed")?(o.style.transitionProperty="max-height, opacity",o.style.transitionDuration=`${s}, ${s}`,o.style.maxHeight="0",o.style.opacity="0"):(o.style.transitionProperty="max-height",o.style.transitionDuration=`${s}`,o.style.maxHeight=o.scrollHeight+"px",setTimeout(()=>{o.style.transitionProperty="opacity",o.style.transitionDuration=`${s}`,o.style.opacity="1"},500))}).observe(o,{attributes:!0,attributeFilter:["class"]})})};var F=()=>{let u=document.getElementById("main-hero-form"),o=document.querySelectorAll("[form-step-input]"),s=document.querySelector('[form-step-input="1"]'),c=document.querySelector('[form-step-input="2"]'),r=document.querySelector('[form-step-input="3"]'),l=document.querySelector('[fs-mirrorclick-element="trigger"]'),f=new Set;o.forEach(e=>{e.addEventListener("input",m),e.addEventListener("focus",p)});function p(e){let t=e.target,i=parseInt(t.getAttribute("form-step-input"),10);k(i)}function m(e){let t=e.target,i=parseInt(t.getAttribute("form-step-input"),10),a=t.value.trim();t.errorTimeout&&(clearTimeout(t.errorTimeout),t.errorTimeout=null);let y=L(i,a);C(t,i,a),y?t.classList.remove("input-error"):i===1?t.classList.add("input-error"):t.errorTimeout=setTimeout(()=>{let h=t.value.trim();L(i,h)||t.classList.add("input-error"),t.errorTimeout=null},3e3)}function w(e){try{return new URL(e).hostname.toLowerCase().includes("figma.com")}catch{return!1}}function q(e){return/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(e)}function L(e,t){return e===1?t===""||w(t):e===2?q(t):e===3?t.length>=5:!1}function C(e,t,i){f.delete(t);let a=L(t,i);t===1?i!==""&&w(i)&&f.add(t):a&&f.add(t),a?(t===1&&(e.placeholder="link to figma project"),t===2&&(e.placeholder="email"),t===3&&(e.placeholder="detail about the project (scope, deadlines)")):(t===1&&(e.placeholder="Please enter a valid Figma link"),t===2&&(e.placeholder="Please enter a valid email address"),t===3&&(e.placeholder="Please enter at least 5 characters"),_(t)),T(),n()}function _(e){for(let t=e;t<=3;t++){let i=document.querySelector(`[form-step-ill="${t}"]`);i&&i.classList.remove("is-active");let a=document.querySelector(`[form-step-progress-item="${t}"]`);if(a){let h=a.querySelector(".steps-grid_item-line-filler"),g=a.querySelector(".rg-12.is-step-name");h&&h.classList.remove("is-active"),g&&g.classList.remove("is-active")}let y=document.querySelector(`.figma-zone-steps-icons_item[form-step-ill="${t}"]`);y&&y.classList.remove("is-active")}}function k(e){document.querySelectorAll("[form-step-ill-arrow]").forEach(i=>{parseInt(i.getAttribute("form-step-ill-arrow"),10)===e?i.classList.add("is-active"):i.classList.remove("is-active")})}function T(){for(let e=1;e<=3;e++){let t=document.querySelector(`[form-step-ill="${e}"]`);f.has(e)?t&&t.classList.add("is-active"):t&&t.classList.remove("is-active")}for(let e=1;e<=3;e++){let t=document.querySelector(`[form-step-progress-item="${e}"]`);if(t){let i=t.querySelector(".steps-grid_item-line-filler"),a=t.querySelector(".rg-12.is-step-name");f.has(e)?(i&&i.classList.add("is-active"),a&&a.classList.add("is-active")):(i&&i.classList.remove("is-active"),a&&a.classList.remove("is-active"))}}for(let e=1;e<=3;e++){let t=document.querySelector(`.figma-zone-steps-icons_item[form-step-ill="${e}"]`);f.has(e)?t&&t.classList.add("is-active"):t&&t.classList.remove("is-active")}}function n(){d()?l.disabled=!1:l.disabled=!0}function d(){return L(1,s.value.trim())&&L(2,c.value.trim())&&L(3,r.value.trim())}u.addEventListener("submit",function(e){if(!d())return e.preventDefault(),e.stopPropagation(),L(1,s.value.trim())||(s.classList.add("input-blink"),setTimeout(()=>{s.classList.remove("input-blink")},1500)),!1}),n()};F();var z=()=>{setTimeout(()=>{let u=1,o=["straight","grid","curved"],s=[],c=[480,769,992],r=window.innerWidth,l=!0;function f(){let n=document.getElementById("connection-svg");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.setAttribute("id","connection-svg"),n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.pointerEvents="none",n.style.overflow="visible",n.style.zIndex="-1",document.body.insertBefore(n,document.body.firstChild));let d=document.querySelectorAll("[mind-connection]"),e=1,t="#666666";d.forEach(i=>{i.getAttribute("mind-connection").split(",").forEach(y=>{let h=y.trim(),g=document.querySelector(`[mind-connection="${h}"]`);if(!g)return;let E=window.innerWidth<768,S=i.classList.contains("hide-on-mobile"),v=g.classList.contains("hide-on-mobile");if(E&&(S||v))return;let A=i.getAttribute("data-start-horizontal"),x=A!==null?A==="true":null,$=s.find(b=>b.startEl===i&&b.endEl===g);if(!$){let b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttribute("stroke",t),b.setAttribute("stroke-width",e),b.setAttribute("fill","none"),b.classList.add("connection-line"),n.appendChild(b),$={startEl:i,endEl:g,pathElement:b,isHorizontalStart:x},s.push($)}p($)})})}function p(n){let{startEl:d,endEl:e,pathElement:t,isHorizontalStart:i}=n,a=d.getBoundingClientRect(),y=e.getBoundingClientRect(),h=a.left+a.width/2+window.scrollX,g=a.top+a.height/2+window.scrollY,E=y.left+y.width/2+window.scrollX,S=y.top+y.height/2+window.scrollY,v,A=o[u];if(A==="straight")v=`M ${h} ${g} L ${E} ${S}`;else if(A==="curved"){let $=(E-h)/2,b=(S-g)/2;v=`M ${h} ${g} Q ${h} ${g+b}, ${h+$} ${g+b} T ${E} ${S}`}else A==="grid"&&(i===null?v=`M ${h} ${g} L ${E} ${S}`:i?v=`M ${h} ${g} H ${E} V ${S}`:v=`M ${h} ${g} V ${S} H ${E}`);let x=t.getAttribute("d");x!==v&&(t.animate([{d:x},{d:v}],{duration:1e3,fill:"forwards"}),t.setAttribute("d",v))}function m(){l&&(s.forEach(n=>{p(n)}),requestAnimationFrame(m))}function w(n){let d=o.indexOf(n);d!==-1&&(u=d,s.forEach(e=>{p(e)}))}function q(){document.querySelectorAll("[hover-lines-changer]").forEach(d=>{d.addEventListener("mouseenter",L)})}function L(n){if(window.innerWidth>=768){let e=n.currentTarget.getAttribute("hover-lines-changer");["straight","grid","fluid","curved"].includes(e)&&w(e==="fluid"?"curved":e)}}function C(){let n=document.getElementById("connection-svg");n&&n.parentNode.removeChild(n),s.length=0,l=!1,setTimeout(()=>{r=window.innerWidth,l=!0,f(),q()},1e3)}f(),requestAnimationFrame(m),q(),window.addEventListener("resize",()=>{clearTimeout(window.resizeTimeout),window.resizeTimeout=setTimeout(()=>{_()},100)});function _(){let n=window.innerWidth,d=!1;for(let e of c)if(r<e&&n>=e||r>=e&&n<e){d=!0;break}d?C():f(),r=n}let k=new MutationObserver(()=>{s.forEach(n=>{p(n)})}),T={attributes:!0,childList:!0,subtree:!0,characterData:!0};k.observe(document.body,T)},2500)};var P=()=>{document.querySelectorAll(".card.is-hero-orange-section").length&&fetch("https://dev.kopytok.xyz/site-stats").then(o=>{if(!o.ok)throw new Error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0438 \u0434\u0430\u043D\u043D\u044B\u0445");return o.json()}).then(o=>{let s=o["total-stats"];for(let c in s)if(s.hasOwnProperty(c)){let r=document.getElementById(c);r&&(r.textContent=s[c])}}).catch(o=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430:",o)})};var V=()=>{let u=document.querySelectorAll("[sync-click]"),o=new Map,s=new WeakSet;u.forEach(r=>{let l=r.getAttribute("sync-click");o.has(l)||o.set(l,[]),o.get(l).push(r)}),o.forEach((r,l)=>{r.length!==2&&o.delete(l)});let c=r=>{s.add(r),setTimeout(()=>{s.delete(r)},500)};o.forEach(r=>{let[l,f]=r;l.addEventListener("click",()=>{s.has(l)||(c(l),s.has(f)||f.click())}),f.addEventListener("click",()=>{s.has(f)||(c(f),s.has(l)||l.click())})})};var W=()=>{if(!document.querySelectorAll(".section_testimonials").length)return;let o=document.querySelectorAll("[client-slug]"),s={};o.forEach(p=>{let m=p.getAttribute("client-slug");s[m]||(s[m]=0),s[m]++}),document.querySelectorAll("[client-slug-counter]").forEach(p=>{let m=p.getAttribute("client-slug-counter");p.textContent=s[m]?s[m]:0});let r=document.querySelectorAll("[testimonial-to-append]"),l=document.querySelectorAll(".testimonial-cards-waiter");r.forEach((p,m)=>{l[m%l.length].appendChild(p)});let f=document.querySelector('[section-toggle="testimonials"]');f&&f.addEventListener("click",()=>{l.forEach(m=>{m.classList.toggle("is-active")});let p=document.querySelector(".testimonials-grid.is-main");p&&p.classList.toggle("is-active")})};var Y=()=>{let u=document.querySelectorAll("[toggl-class-trigger]");u.length&&u.forEach(o=>{o.addEventListener("click",()=>{let s=o.getAttribute("toggl-class-trigger"),c=document.querySelector(`[toggl-class-target="${s}"]`);if(c){let r=c.getAttribute("toggl-class-name");r&&c.classList.toggle(r)}})})};var D=()=>{let u=document.querySelectorAll("[year-counter]");if(u.length){let s=new Date().getFullYear()-2016;u.forEach(c=>{c.textContent=s})}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{F(),I(),R(),V(),H(),P(),D(),Y(),z(),B(),W(),M()});})();
